/*
 Copyright (c) 2014-2016, Oleg Kiriljuk, oleg.kiriljuk@ok-soft-gmbh.com
 Dual licensed under the MIT and GPL licenses
 http://www.opensource.org/licenses/mit-license.php
 http://www.gnu.org/licenses/gpl-2.0.html
 Date: 2014-11-13, 2015-04-06
 see https://github.com/tonytomov/jqGrid/issues/650 for more details
*/
var $jscomp={scope:{},findInternal:function(a,d,b){a instanceof String&&(a=String(a));for(var e=a.length,k=0;k<e;k++){var h=a[k];if(d.call(b,h,k,a))return{i:k,v:h}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,d,b){if(b.get||b.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[d]=b.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,d,b,e){if(d){b=$jscomp.global;a=a.split(".");for(e=0;e<a.length-1;e++){var k=a[e];k in b||(b[k]={});b=b[k]}a=a[a.length-1];e=b[a];d=d(e);d!=e&&null!=d&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:d})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,b){return $jscomp.findInternal(this,a,b).v}},"es6-impl","es3");
(function(a){"function"===typeof define&&define.amd?define(["jquery","./jqdnr","./jqmodal"],a):"object"===typeof exports?a(require("jquery")):a(jQuery)})(function(a){a.jgrid=a.jgrid||{};a.extend(a.jgrid,{showHideColumnMenu:{adjustGridWidth:!0,viewHideDlgColumnsAsDisabled:!1,allowHideInernalColumns:!1,shrink:!1,menuStyle:{"float":"left"},modifyMenuItem:function(d,b,e){0<=a.inArray(b.name,["rn","subgrid","cb"])?e.allowHideInernalColumns||d.hide():b.hidedlg&&(e.viewHideDlgColumnsAsDisabled?d.addClass("ui-state-disabled"):
d.hide())}}});a.jgrid.extend({showHideColumnMenu:function(d){var b=a.extend(!0,{},a.jgrid.showHideColumnMenu,d);d=null!=a.ui&&"string"===typeof a.ui.version?/^([0-9]+)\.([0-9]+)\.([0-9]+)$/.exec(a.ui.version):[];var e=null!=d&&4===d.length&&"1"===d[1]&&11>d[2];return this.each(function(){var d=a(this),h=function(){a(this.grid.hDiv).find(".ui-jqgrid-labels").contextmenu(function(n){for(var c=d.jqGrid("getGridParam"),l=c.colModel,g=c.colNames,h=l.length,f,q=c.groupHeader,v={},r={},t,u,w,p,m=a("<ul class='ui-jqgrid-showHideColumnMenu'></ul>"),
c=0;c<h;c++)v[l[c].name]=c;if(null!=q&&null!=q.groupHeaders)for(t=0,w=q.groupHeaders.length;t<w;t++)for(p=q.groupHeaders[t],u=0;u<p.numberOfColumns;u++)c=v[p.startColumnName]+u,f=l[c],r[c]=a.isFunction(b.buildItemText)?b.buildItemText.call(d[0],{iCol:c,cm:f,cmName:f.name,colName:g[c],groupTitleText:p.titleText}):a.jgrid.stripHtml(p.titleText)+": "+a.jgrid.stripHtml(""===g[c]?f.name:g[c]);for(c=0;c<h;c++)void 0===r[c]&&(f=l[c],r[c]=a.isFunction(b.buildItemText)?b.buildItemText.call(d[0],{iCol:c,cm:f,
cmName:f.name,colName:g[c],groupTitleText:null}):a.jgrid.stripHtml(g[c]));for(c=0;c<h;c++)f=l[c],g=a("<li></li>").data("iCol",c).html(r[c]),b.modifyMenuItem.call(d[0],g,f,b),g.prepend(f.hidden?b.checkboxUnChecked:b.checkboxChecked),e&&g.wrapInner("<a></a>"),g.appendTo(m);m.css(b.menuStyle);a("ul.ui-jqgrid-showHideColumnMenu").menu("destroy").remove();m.appendTo("body").menu({select:function(c,e){var n=parseInt(e.item.data("iCol"),10),g=e.item.find(b.checkboxSelector),f=l[n],h=b.isChecked.call(d[0],
g,c,f);!isNaN(n)&&0<=n&&null!=f&&0<g.length&&(h?(b.toUnCheck.call(d[0],g,c,f),d.jqGrid("hideCol",f.name)):(b.toCheck.call(d[0],g,c,f),d.jqGrid("showCol",f.name)),a(this).parent().css("zoom",1),m.menu("focus",c,e.item))},create:function(){var a=m.height(),b=window.innerHeight||document.documentElement.clientHeight;a>b&&m.height(b).css("overflow-y","scroll")}}).mouseleave(function(){a(this).menu("destroy").remove()}).position({of:a(n.target),my:"left top",at:"right center",collision:"flipfit flipfit"});
return!1})};b=a.extend(!0,"fontAwesome"===this.p.iconSet||"fontAwesome"===b.iconSet?{checkboxChecked:'<i class="fa fa-check-square-o fa-fw fa-lg"></i>&nbsp;',checkboxUnChecked:'<i class="fa fa-square-o fa-fw fa-lg"></i>&nbsp;',checkboxSelector:"i.fa",isChecked:function(a){return a.hasClass("fa-check-square-o")},toCheck:function(a){a.removeClass("fa-square-o").addClass("fa-check-square-o")},toUnCheck:function(a){a.removeClass("fa-check-square-o").addClass("fa-square-o")}}:{checkboxChecked:'<input disabled="disabled" checked="checked" type="checkbox"/>',
checkboxUnChecked:'<input disabled="disabled" type="checkbox"/>',checkboxSelector:"input[type=checkbox]",isChecked:function(a){return a.is(":checked")},toCheck:function(a){a.prop("checked",!0)},toUnCheck:function(a){a.prop("checked",!1)}},b);h.call(this);d.bind("jqGridAfterSetGroupHeaders",function(){h.call(this)})})}})});
//# sourceMappingURL=jquery.jqgrid.showhidecolumnmenu.min.map
